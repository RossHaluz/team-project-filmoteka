{"mappings":"gfAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0BAMiB,IAAI,EAAAC,EAAAC,SACK,IAAI,EAAAC,EAAAC,0BCP9BJ,EAAA,S,8BCCMK,EAAW,+BAGXC,GAFY,GAAYC,OAATF,EAAS,wBACX,GAAYE,OAATF,EAAS,iBAChB,GAAYE,OAATF,EAAS,YDCrBG,EAAoB,IAAI,EAAAL,EAAAC,0BAC9BK,EAAAC,KAAKC,QAAQC,iBAAiB,SAE9B,WACEH,EAAAC,KAAKG,MAAMC,UAAUC,OAAO,eAC5BN,EAAAC,KAAKC,QAAQG,UAAUE,IAAI,c,IAa7B,WACE,GAAIP,EAAAC,KAAKC,QAAQG,UAAUG,SAAS,eAAgB,CAClDR,EAAAC,KAAKG,MAAMC,UAAUC,OAAO,eAC5BN,EAAAC,KAAKC,QAAQG,UAAUE,IAAI,eAC3BP,EAAAC,KAAKQ,YAAYC,UAAY,GAC7B,IAAMC,EAASZ,EAAkBa,WACjCC,QAAQC,IAAIH,GACZA,EAAOI,KAAI,SAAAC,IAjBf,SAAuBA,GACrB,OAAOC,MAAM,GAAYnB,OAATD,GAAuBC,OAAdkB,EAAG,aAAmBlB,OCdjC,qCDeXoB,MAAK,SAAAC,GACJ,OAAOA,EAASC,M,IAEjBC,OAAM,SAAAC,GACLT,QAAQC,IAAIQ,E,KAYZC,CAAcP,GAAIE,MAAK,SAAAM,GAO7B,IAAwBC,EAkBNC,EAHEC,EAfIF,EANDD,EAOrBxB,EAAAC,KAAKQ,YAAYC,WAAa,8DAEqBZ,OADxB2B,EAAKT,GAAG,0DAEjClB,OADiD2B,EAAKG,YAAY,WAIjC9B,OAHjC2B,EAAKI,MACN,mGAGmC/B,OADD2B,EAAKI,MAAM,8CAER/B,QAMpB6B,EAP6BF,EAAKE,OAQ7CA,EAAOZ,KAAI,SAAAe,G,OAAMA,EAAGC,I,IAAMC,KAAK,OARsB,4CACMlC,QASlD4B,EAT+BD,EAAKQ,aAU7C,KAAsBnC,OAAjB4B,EAAKQ,MAAM,EAAG,KAVwC,qE,QAVpEC,G","sources":["src/js/main-library.js","src/js/main/renderLibraryMarkup.js","src/js/main/watched.js","src/js/fetch-service/api-vars.js"],"sourcesContent":["import refs from './fetch-service/refs';\nimport { LocalStorageServiceFilms } from './fetch-service/localStorageService';\nimport { addWatched } from './main/renderLibrary';\nimport { onClickBtnQueue, onClickBtnWatched } from './main/header-library-btn';\nimport {\n  getFilmsById,\n  onClickBtnLibraryWatched,\n} from './main/renderLibraryMarkup';\nimport { renderFilmsById } from './main/watched';\nimport { openTeamModal } from './modal/close-modal';\nimport { createMarkup } from './fetch-service/renderFuncApi';\n// import { openModal } from './modal/modals';\n","import FetchFilmsApi from '../fetch-service/fechFilmsApi';\nimport { LocalStorageServiceFilms } from '../fetch-service/localStorageService';\nimport { refs } from \"../fetch-service/refs\";\n\n\n\nconst fetchApi = new FetchFilmsApi();\nconst localStorageFilms = new LocalStorageServiceFilms()\n\nexport function getFilmsById() {\n    const getFilms = localStorageFilms.getFilms();\n    getFilms.map(film => {\n        fetchApi.getIdFilm = film\n            fetchApi.getDateilsMovieById().then(data => creatLibraryMarkup(data));\n    })\n\n}\n \n\nfunction creatLibraryMarkup({poster_path, title}){ \n    const markup =  `\n    <li class=\"library-list__item card-set-iteam\">\n    <img src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\">\n      <h3 class=\"library-list__matkup-title\">${title}</h3>\n      </li>\n    `;\n\n    refs.libraryList.insertAdjacentHTML('beforeend', markup)\n\n}\n\n\n\n","import FetchFilmsApi from '../fetch-service/fechFilmsApi';\nimport { LocalStorageServiceFilms } from '../fetch-service/localStorageService';\nimport { refs } from '../fetch-service/refs';\nimport { API_KEY, ID_URL } from '../fetch-service/api-vars';\n\nconst localStorageFilms = new LocalStorageServiceFilms();\nrefs.watched.addEventListener('click', onClickWatched);\n\nfunction onClickWatched() {\n  refs.queue.classList.remove('btn--active');\n  refs.watched.classList.add('btn--active');\n}\n\nfunction fetchFilmById(id) {\n  return fetch(`${ID_URL}${id}?api_key=${API_KEY}`)\n    .then(response => {\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nfunction renderFilmsById() {\n  if (refs.watched.classList.contains('btn--active')) {\n    refs.queue.classList.remove('btn--active');\n    refs.watched.classList.add('btn--active');\n    refs.libraryList.innerHTML = '';\n    const getIds = localStorageFilms.getFilms();\n    console.log(getIds);\n    getIds.map(id => {\n      fetchFilmById(id).then(filmData => {\n        createListItem(filmData);\n      });\n    });\n  }\n}\nrenderFilmsById();\nfunction createListItem(data) {\n  refs.libraryList.innerHTML += `<li class=\"gallery-card card\">\n              <img data-id=${data.id} \n              src=\"https://image.tmdb.org/t/p/w500/${data.poster_path}\" alt=\"${\n    data.title\n  }\" class=\"card-image\">\n            <div class=\"card-info\">\n              <p class=\"card-name\">${data.title}</p>\n              <p class=\"card-genre\">${showGenres(data.genres)}\n              <span class=\"card-year\">${showYear(data.release_date)}\n              </span></p>\n              </div>\n          </li>`;\n}\n\nfunction showGenres(genres) {\n  return genres.map(el => el.name).join(', ');\n}\nfunction showYear(date) {\n  return `| ${date.slice(0, 4)}`;\n}\n","const API_KEY = 'f896ccabafb5d2939071b9f1aa9e42c1';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst TREND_URL = `${BASE_URL}/trending/movie/week`;\nconst SEARCH_URL = `${BASE_URL}/search/movie`;\nconst ID_URL = `${BASE_URL}/movie/`;\n\nexport { API_KEY, BASE_URL, TREND_URL, SEARCH_URL, ID_URL };"],"names":["parcelRequire","$90yji","default","$gtaxt","LocalStorageServiceFilms","$b921d68012d7e8ab$export$ca6dda5263526f75","$b921d68012d7e8ab$export$b85aa4b53a955004","concat","$a6644c01cbff66ac$var$localStorageFilms","$1RuQn","refs","watched","addEventListener","queue","classList","remove","add","contains","libraryList","innerHTML","getIds","getFilms","console","log","map","id","fetch","then","response","json","catch","error","$a6644c01cbff66ac$var$fetchFilmById","filmData","data","date","genres","poster_path","title","el","name","join","release_date","slice","$a6644c01cbff66ac$var$renderFilmsById"],"version":3,"file":"library.7cf61376.js.map"}