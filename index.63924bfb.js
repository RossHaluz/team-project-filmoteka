!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i("90yji");var a=i("1RuQn"),o=i("90yji"),c=i("kvKoM"),s=new(0,o.default),l={mediaType:"movie",lang:"en-US",page:s.page,include_adult:!1};a.refs.form.addEventListener("submit",(function(e){if(e.preventDefault(),s.actualQuery=e.currentTarget.elements.filmname.value,!s.actualQuery)return a.refs.formNotification.textContent="The text field is empty. Please type something into it and retry.",void setTimeout((function(){return a.refs.formNotification.textContent=""}),3e3);s.fetchWithSearchFilmData(l).then((function(e){if(!e.data.results.length)return a.refs.formNotification.textContent="Search result not successful. Enter the correct movie name and",void setTimeout((function(){return a.refs.formNotification.textContent=""}),3e3);(0,c.creatCards)(e.data.results)}))}));c=i("kvKoM");(a=i("1RuQn")).refs.changeColor.addEventListener("click",(function(){document.body.classList.toggle("dark")})),i("eLVJN");var d=i("bpxeT"),u=i("2TvXO"),f=(o=i("90yji"),a=i("1RuQn"),i("eLVJN")),p=new(0,o.default);function m(){return(m=e(d)(e(u).mark((function t(n){var r;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.classList.contains("card-image")){e.next=2;break}return e.abrupt("return");case 2:a.refs.backdrop.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),a.refs.modalContent.innerHTML="",r=n.target.dataset.id,p.getCurrentFilm({id:r}).then((function(e){return(0,f.createMarkup)(e.data)})).catch((function(e){return console.log(e)})),a.refs.backdrop.addEventListener("click",y),window.addEventListener("keydown",y);case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function y(e){return v.apply(this,arguments)}function v(){return(v=e(d)(e(u).mark((function t(n){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.target!==a.refs.modalCloseBtn&&n.target!==a.refs.backdrop&&27!==n.keyCode||(document.body.classList.remove("no-scroll"),a.refs.backdrop.classList.add("is-hidden")),a.refs.backdrop.removeEventListener("click",y),window.removeEventListener("keydown",y);case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}a.refs.gallery.addEventListener("click",(function(e){return m.apply(this,arguments)})),a.refs.modalCloseBtn.addEventListener("click",y),i("6RLCr");a=i("1RuQn");var g=new(0,(o=i("90yji")).default),h=0,w=[],L=[],k=document.querySelector(".modal__trailer-btn"),b=document.querySelector(".closebtn"),T=document.querySelector("#overlay-video"),E=document.querySelector("#overlay-content");a.refs.gallery.addEventListener("click",(function(e){h=Number(e.target.dataset.id)})),a.refs.backdrop.addEventListener("click",(function(e){"▶"===e.target.innerText&&(L=[],g.fetchTrailer(h).then((function(e){(w=e.data.results).length?(console.log(w),T.style.width="100%",w.forEach((function(e){var t=e.key,n=e.site,r=e.name,i=e.type;"YouTube"===n&&"Trailer"===i&&L.push('\n                    <iframe src="https://www.youtube.com/embed/'.concat(t,'" \n                    title="').concat(r,'" frameborder="0" allow="accelerometer; autoplay; \n                    clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n                    '))})),E.innerHTML=L.join("")):(k.style.display="none",alert("No found trailers"))})))})),b.addEventListener("click",(function(){T.style.width="0%"})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(e.preventDefault(),T.style.width="0%")})),document.querySelector(".overlay__backdrop").addEventListener("click",(function(e){e.currentTarget===e.target&&(e.preventDefault(),T.style.width="0%")}));o=i("90yji"),a=i("1RuQn");var _=new(0,o.default),x=1,C={mediaType:"movie",timeWindow:"week"};function M(e){var t=e.map((function(e){var t=e.poster_path,n=e.title,r=e.release_date,i=e.id;return'\n  <li class="galery-list__item card-set-iteam">\n          <img data-id='.concat(i,' src="https://image.tmdb.org/t/p/w500/').concat(t,'" alt="').concat(n,'" class="galery-list__img" />\n          <h3 class="galery-list__title">').concat(n,'</h3>\n          <p class="galery-list__desc">\n            Science Fiction, Action, Adventure, Drama | ').concat(r.split("").slice(0,4).join(""),"\n          </p>\n        </li>\n  ")})).join("");a.refs.gallery.innerHTML=t}a.refs.paginationListItemPrev.addEventListener("click",(function(){if(1===x)return;a.refs.gallery.innerHTML="",x-=1,_.actualPage=x,a.refs.paginationListItemPage.innerHTML=x,_.fetchWithAllFilmsData(C).then((function(e){return M(e.data.results)}))})),a.refs.paginationListItemNext.addEventListener("click",(function(){a.refs.gallery.innerHTML="",x+=1,_.actualPage=x,a.refs.paginationListItemPage.innerHTML=x,_.fetchWithAllFilmsData(C).then((function(e){return M(e.data.results)}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".btn-goup");console.log("btn on"),window.onscroll=function(){window.pageYOffset>580?e.classList.remove("is-hidden"):e.classList.add("is-hidden")},e.addEventListener("click",(function(){console.log("это я"),window.scrollBy({top:-window.pageYOffset,behavior:"smooth"})}))})),(0,c.onCreat)()}();
//# sourceMappingURL=index.63924bfb.js.map
