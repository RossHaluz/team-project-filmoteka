var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("lhLDm");var r=o("96LRb"),i=o("lhLDm"),a=o("2QMTS");const s=new(0,i.default),d={mediaType:"movie",lang:"en-US",page:s.page,include_adult:!1};r.refs.form.addEventListener("submit",(function(e){if(e.preventDefault(),s.actualQuery=e.currentTarget.elements.filmname.value,!s.actualQuery)return r.refs.formNotification.textContent="The text field is empty. Please type something into it and retry.",void setTimeout((()=>r.refs.formNotification.textContent=""),3e3);s.fetchWithSearchFilmData(d).then((e=>{if(!e.data.results.length)return r.refs.formNotification.textContent="Search result not successful. Enter the correct movie name and",void setTimeout((()=>r.refs.formNotification.textContent=""),3e3);(0,a.creatCards)(e.data.results)}))}));a=o("2QMTS");(r=o("96LRb")).refs.changeColor.addEventListener("click",(function(){document.body.classList.toggle("dark")})),o("8DW4i");i=o("lhLDm"),r=o("96LRb");var c=o("8DW4i");function l(e){"Escape"===e.code&&(f(),modal.classList.remove("visiable"),modal.removeEventListener("click",f),window.removeEventListener("keydown",l))}window.addEventListener("keydown",l);const u=new(0,i.default);async function f(e){e.target!==r.refs.modalCloseBtn&&e.target!==r.refs.backdrop&&27!==e.keyCode||(document.body.classList.remove("no-scroll"),r.refs.backdrop.classList.add("is-hidden")),r.refs.backdrop.removeEventListener("click",f),window.removeEventListener("keydown",f)}function l(e){"Escape"===e.code&&(console.log("Escape"),document.body.classList.remove("no-scroll"),r.refs.backdrop.classList.add("is-hidden"))}r.refs.gallery.addEventListener("click",(async function(e){if(!e.target.classList.contains("card-image"))return;r.refs.backdrop.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),r.refs.modalContent.innerHTML="";const t=e.target.dataset.id;u.getCurrentFilm({id:t}).then((e=>(0,c.createMarkup)(e.data))).catch((e=>console.log(e))),r.refs.backdrop.addEventListener("click",f),window.addEventListener("keydown",f)})),r.refs.modalCloseBtn.addEventListener("click",f),window.addEventListener("keydown",l);const m=document.querySelector(".footer__backdrop");m.addEventListener("click",(function(e){e.currentTarget===e.target&&(console.log("Backdrop"),document.body.classList.remove("no-scroll"),r.refs.backdrop.classList.add("is-hidden"))})),console.log(m),o("l3Yx2");r=o("96LRb");const L=new(0,(i=o("lhLDm")).default);let v=0,y=[],p=[];const g=document.querySelector(".modal__trailer-btn"),w=document.querySelector(".closebtn"),h=document.querySelector("#overlay-video"),b=document.querySelector("#overlay-content");r.refs.gallery.addEventListener("click",(function(e){v=Number(e.target.dataset.id)})),r.refs.backdrop.addEventListener("click",(function(e){"▶"===e.target.innerText&&(p=[],L.fetchTrailer(v).then((e=>{y=e.data.results,y.length?(console.log(y),h.style.width="100%",document.body.classList.add("no-scroll"),y.forEach((e=>{let{key:t,site:n,name:o,type:r}=e;"YouTube"===n&&"Trailer"===r&&p.push(`\n                    <iframe src="https://www.youtube.com/embed/${t}" \n                    title="${o}" frameborder="0" allow="accelerometer; autoplay; \n                    clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n                    `)})),b.innerHTML=p.join("")):(g.style.display="none",alert("No found trailers"))})))})),w.addEventListener("click",(function(){h.style.width="0%",document.body.classList.remove("no-scroll"),b.innerHTML=0})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(e.preventDefault(),h.style.width="0%",document.body.classList.remove("no-scroll"),b.innerHTML=0)}));document.querySelector(".overlay__backdrop").addEventListener("click",(function(e){e.currentTarget===e.target&&(e.preventDefault(),document.body.classList.remove("no-scroll"),h.style.width="0%",b.innerHTML=0)}));i=o("lhLDm"),r=o("96LRb"),a=o("2QMTS");const k=new(0,i.default);let E=1;const T={mediaType:"movie",timeWindow:"week"};r.refs.paginationListItemPrev.addEventListener("click",(function(){if(1===E)return;r.refs.gallery.innerHTML="",E-=1,k.actualPage=E,r.refs.paginationListItemPage.innerHTML=E,k.fetchWithAllFilmsData(T).then((e=>(0,a.creatCards)(e.data.results)))})),r.refs.paginationListItemNext.addEventListener("click",(function(){r.refs.gallery.innerHTML="",E+=1,k.actualPage=E,r.refs.paginationListItemPage.innerHTML=E,k.fetchWithAllFilmsData(T).then((e=>(0,a.creatCards)(e.data.results)))})),document.addEventListener("DOMContentLoaded",(()=>{let e=document.querySelector(".btn-goup");console.log("btn on"),window.onscroll=function(){window.pageYOffset>580?e.classList.remove("is-hidden"):e.classList.add("is-hidden")},e.addEventListener("click",(function(){console.log("это я"),window.scrollBy({top:-window.pageYOffset,behavior:"smooth"})}))})),(0,a.onCreat)();
//# sourceMappingURL=index.882f4c59.js.map
