!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o),o("90yji");var i=o("1RuQn"),a=o("90yji"),s=o("kvKoM"),c=new(0,a.default),d={mediaType:"movie",lang:"en-US",page:c.page,include_adult:!1};i.refs.form.addEventListener("submit",(function(e){if(e.preventDefault(),c.actualQuery=e.currentTarget.elements.filmname.value,!c.actualQuery)return i.refs.formNotification.textContent="The text field is empty. Please type something into it and retry.",void setTimeout((function(){return i.refs.formNotification.textContent=""}),3e3);c.fetchWithSearchFilmData(d).then((function(e){if(!e.data.results.length)return i.refs.formNotification.textContent="Search result not successful. Enter the correct movie name and",void setTimeout((function(){return i.refs.formNotification.textContent=""}),3e3);(0,s.creatCards)(e.data.results)}))}));s=o("kvKoM");(i=o("1RuQn")).refs.changeColor.addEventListener("click",(function(){document.body.classList.toggle("dark")})),o("eLVJN");var l=o("bpxeT"),u=o("2TvXO"),f=(a=o("90yji"),i=o("1RuQn"),o("eLVJN"));function m(e){"Escape"===e.code&&(y(),modal.classList.remove("visiable"),modal.removeEventListener("click",y),window.removeEventListener("keydown",m))}window.addEventListener("keydown",m);var p=new(0,a.default);function v(){return(v=e(l)(e(u).mark((function t(n){var r;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.classList.contains("card-image")){e.next=2;break}return e.abrupt("return");case 2:i.refs.backdrop.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),i.refs.modalContent.innerHTML="",r=n.target.dataset.id,p.getCurrentFilm({id:r}).then((function(e){return(0,f.createMarkup)(e.data)})).catch((function(e){return console.log(e)})),i.refs.backdrop.addEventListener("click",y),window.addEventListener("keydown",y);case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function y(e){return L.apply(this,arguments)}function L(){return(L=e(l)(e(u).mark((function t(n){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.target!==i.refs.modalCloseBtn&&n.target!==i.refs.backdrop&&27!==n.keyCode||(document.body.classList.remove("no-scroll"),i.refs.backdrop.classList.add("is-hidden")),i.refs.backdrop.removeEventListener("click",y),window.removeEventListener("keydown",y);case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function m(e){"Escape"===e.code&&(console.log("Escape"),document.body.classList.remove("no-scroll"),i.refs.backdrop.classList.add("is-hidden"))}i.refs.gallery.addEventListener("click",(function(e){return v.apply(this,arguments)})),i.refs.modalCloseBtn.addEventListener("click",y),window.addEventListener("keydown",m);var w=document.querySelector(".footer__backdrop");w.addEventListener("click",(function(e){e.currentTarget===e.target&&(console.log("Backdrop"),document.body.classList.remove("no-scroll"),i.refs.backdrop.classList.add("is-hidden"))})),console.log(w),o("6RLCr");i=o("1RuQn");var g=new(0,(a=o("90yji")).default),h=0,k=[],b=[],E=document.querySelector(".modal__trailer-btn"),T=document.querySelector(".closebtn"),C=document.querySelector("#overlay-video"),x=document.querySelector("#overlay-content");i.refs.gallery.addEventListener("click",(function(e){h=Number(e.target.dataset.id)})),i.refs.backdrop.addEventListener("click",(function(e){"▶"===e.target.innerText&&(b=[],g.fetchTrailer(h).then((function(e){(k=e.data.results).length?(console.log(k),C.style.width="100%",document.body.classList.add("no-scroll"),k.forEach((function(e){var t=e.key,n=e.site,r=e.name,o=e.type;"YouTube"===n&&"Trailer"===o&&b.push('\n                    <iframe src="https://www.youtube.com/embed/'.concat(t,'" \n                    title="').concat(r,'" frameborder="0" allow="accelerometer; autoplay; \n                    clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n                    '))})),x.innerHTML=b.join("")):(E.style.display="none",alert("No found trailers"))})))})),T.addEventListener("click",(function(){C.style.width="0%",document.body.classList.remove("no-scroll"),x.innerHTML=0})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(e.preventDefault(),C.style.width="0%",document.body.classList.remove("no-scroll"),x.innerHTML=0)})),document.querySelector(".overlay__backdrop").addEventListener("click",(function(e){e.currentTarget===e.target&&(e.preventDefault(),document.body.classList.remove("no-scroll"),C.style.width="0%",x.innerHTML=0)}));a=o("90yji"),i=o("1RuQn"),s=o("kvKoM");var M=new(0,a.default),N=1,_={mediaType:"movie",timeWindow:"week"};i.refs.paginationListItemPrev.addEventListener("click",(function(){if(1===N)return;i.refs.gallery.innerHTML="",N-=1,M.actualPage=N,i.refs.paginationListItemPage.innerHTML=N,M.fetchWithAllFilmsData(_).then((function(e){return(0,s.creatCards)(e.data.results)}))})),i.refs.paginationListItemNext.addEventListener("click",(function(){i.refs.gallery.innerHTML="",N+=1,M.actualPage=N,i.refs.paginationListItemPage.innerHTML=N,M.fetchWithAllFilmsData(_).then((function(e){return(0,s.creatCards)(e.data.results)}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".btn-goup");console.log("btn on"),window.onscroll=function(){window.pageYOffset>580?e.classList.remove("is-hidden"):e.classList.add("is-hidden")},e.addEventListener("click",(function(){console.log("это я"),window.scrollBy({top:-window.pageYOffset,behavior:"smooth"})}))})),(0,s.onCreat)()}();
//# sourceMappingURL=index.f2d28054.js.map
