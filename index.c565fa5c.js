!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o),o("90yji");var i=o("1RuQn"),a=o("90yji"),c=o("kvKoM"),s=new(0,a.default),d={mediaType:"movie",lang:"en-US",page:s.page,include_adult:!1};i.refs.form.addEventListener("submit",(function(e){if(e.preventDefault(),s.actualQuery=e.currentTarget.elements.filmname.value,!s.actualQuery)return i.refs.formNotification.textContent="The text field is empty. Please type something into it and retry.",void setTimeout((function(){return i.refs.formNotification.textContent=""}),3e3);s.fetchWithSearchFilmData(d).then((function(e){if(!e.data.results.length)return i.refs.formNotification.textContent="Search result not successful. Enter the correct movie name and",void setTimeout((function(){return i.refs.formNotification.textContent=""}),3e3);(0,c.creatCards)(e.data.results)}))}));c=o("kvKoM");(i=o("1RuQn")).refs.changeColor.addEventListener("click",(function(){document.body.classList.toggle("dark")})),o("eLVJN");var l=o("bpxeT"),u=o("2TvXO"),f=(a=o("90yji"),i=o("1RuQn"),o("eLVJN")),m=new(0,a.default);function p(){return(p=e(l)(e(u).mark((function t(n){var r;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.classList.contains("card-image")){e.next=2;break}return e.abrupt("return");case 2:i.refs.backdrop.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),i.refs.modalContent.innerHTML="",r=n.target.dataset.id,m.getCurrentFilm({id:r}).then((function(e){return(0,f.createMarkup)(e.data)})).catch((function(e){return console.log(e)})),i.refs.backdrop.addEventListener("click",v),window.addEventListener("keydown",v);case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=e(l)(e(u).mark((function t(n){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.target!==i.refs.modalCloseBtn&&n.target!==i.refs.backdrop&&27!==n.keyCode||(document.body.classList.remove("no-scroll"),i.refs.backdrop.classList.add("is-hidden")),i.refs.backdrop.removeEventListener("click",v),window.removeEventListener("keydown",v);case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}i.refs.gallery.addEventListener("click",(function(e){return p.apply(this,arguments)})),i.refs.modalCloseBtn.addEventListener("click",v),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(console.log("Escape"),document.body.classList.remove("no-scroll"),i.refs.backdrop.classList.add("is-hidden"))}));var g=document.querySelector(".backdrop");g.addEventListener("click",(function(e){e.currentTarget===e.target&&(console.log("Backdrop"),document.body.classList.remove("no-scroll"),i.refs.backdrop.classList.add("is-hidden"))})),console.log(g),o("6RLCr");i=o("1RuQn");var L=new(0,(a=o("90yji")).default),w=0,h=[],k=[],b=document.querySelector(".modal__trailer-btn"),E=document.querySelector(".closebtn"),T=document.querySelector("#overlay-video"),C=document.querySelector("#overlay-content");i.refs.gallery.addEventListener("click",(function(e){w=Number(e.target.dataset.id)})),i.refs.backdrop.addEventListener("click",(function(e){"▶"===e.target.innerText&&(k=[],L.fetchTrailer(w).then((function(e){(h=e.data.results).length?(console.log(h),T.style.width="100%",h.forEach((function(e){var t=e.key,n=e.site,r=e.name,o=e.type;"YouTube"===n&&"Trailer"===o&&k.push('\n                    <iframe src="https://www.youtube.com/embed/'.concat(t,'" \n                    title="').concat(r,'" frameborder="0" allow="accelerometer; autoplay; \n                    clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n                    '))})),C.innerHTML=k.join("")):(b.style.display="none",alert("No found trailers"))})))})),E.addEventListener("click",(function(){T.style.width="0%"})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(e.preventDefault(),document.body.classList.remove("no-scroll"),T.style.width="0%")})),document.querySelector(".overlay__backdrop").addEventListener("click",(function(e){e.currentTarget===e.target&&(e.preventDefault(),document.body.classList.remove("no-scroll"),T.style.width="0%")}));a=o("90yji"),i=o("1RuQn"),c=o("kvKoM");var x=new(0,a.default),M=1,N={mediaType:"movie",timeWindow:"week"};i.refs.paginationListItemPrev.addEventListener("click",(function(){if(1===M)return;i.refs.gallery.innerHTML="",M-=1,x.actualPage=M,i.refs.paginationListItemPage.innerHTML=M,x.fetchWithAllFilmsData(N).then((function(e){return(0,c.creatCards)(e.data.results)}))})),i.refs.paginationListItemNext.addEventListener("click",(function(){i.refs.gallery.innerHTML="",M+=1,x.actualPage=M,i.refs.paginationListItemPage.innerHTML=M,x.fetchWithAllFilmsData(N).then((function(e){return(0,c.creatCards)(e.data.results)}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".btn-goup");console.log("btn on"),window.onscroll=function(){window.pageYOffset>580?e.classList.remove("is-hidden"):e.classList.add("is-hidden")},e.addEventListener("click",(function(){console.log("это я"),window.scrollBy({top:-window.pageYOffset,behavior:"smooth"})}))})),(0,c.onCreat)()}();
//# sourceMappingURL=index.c565fa5c.js.map
