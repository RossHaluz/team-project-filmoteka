var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("lhLDm");var r=o("96LRb"),a=o("lhLDm"),i=o("2QMTS");const s=new(0,a.default),c={mediaType:"movie",lang:"en-US",page:s.page,include_adult:!1};r.refs.form.addEventListener("submit",(function(e){if(e.preventDefault(),s.actualQuery=e.currentTarget.elements.filmname.value,!s.actualQuery)return r.refs.formNotification.textContent="The text field is empty. Please type something into it and retry.",void setTimeout((()=>r.refs.formNotification.textContent=""),3e3);s.fetchWithSearchFilmData(c).then((e=>{if(!e.data.results.length)return r.refs.formNotification.textContent="Search result not successful. Enter the correct movie name and",void setTimeout((()=>r.refs.formNotification.textContent=""),3e3);(0,i.creatCards)(e.data.results)}))}));i=o("2QMTS");(r=o("96LRb")).refs.changeColor.addEventListener("click",(function(){document.body.classList.toggle("dark")})),o("8DW4i");a=o("lhLDm"),r=o("96LRb");var d=o("8DW4i");const l=new(0,a.default);async function u(e){e.target!==r.refs.modalCloseBtn&&e.target!==r.refs.backdrop&&27!==e.keyCode||(document.body.classList.remove("no-scroll"),r.refs.backdrop.classList.add("is-hidden")),r.refs.backdrop.removeEventListener("click",u),window.removeEventListener("keydown",u)}r.refs.gallery.addEventListener("click",(async function(e){if(!e.target.classList.contains("card-image"))return;r.refs.backdrop.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),r.refs.modalContent.innerHTML="";const t=e.target.dataset.id;l.getCurrentFilm({id:t}).then((e=>(0,d.createMarkup)(e.data))).catch((e=>console.log(e))),r.refs.backdrop.addEventListener("click",u),window.addEventListener("keydown",u)})),r.refs.modalCloseBtn.addEventListener("click",u),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(console.log("Escape"),document.body.classList.remove("no-scroll"),r.refs.backdrop.classList.add("is-hidden"))}));const f=document.querySelector(".backdrop");f.addEventListener("click",(function(e){e.currentTarget===e.target&&(console.log("Backdrop"),document.body.classList.remove("no-scroll"),r.refs.backdrop.classList.add("is-hidden"))})),console.log(f),o("l3Yx2");r=o("96LRb");const m=new(0,(a=o("lhLDm")).default);let L=0,p=[],y=[];const g=document.querySelector(".modal__trailer-btn"),v=document.querySelector(".closebtn"),h=document.querySelector("#overlay-video"),w=document.querySelector("#overlay-content");r.refs.gallery.addEventListener("click",(function(e){L=Number(e.target.dataset.id)})),r.refs.backdrop.addEventListener("click",(function(e){"▶"===e.target.innerText&&(y=[],m.fetchTrailer(L).then((e=>{p=e.data.results,p.length?(console.log(p),h.style.width="100%",p.forEach((e=>{let{key:t,site:n,name:o,type:r}=e;"YouTube"===n&&"Trailer"===r&&y.push(`\n                    <iframe src="https://www.youtube.com/embed/${t}" \n                    title="${o}" frameborder="0" allow="accelerometer; autoplay; \n                    clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n                    `)})),w.innerHTML=y.join("")):(g.style.display="none",alert("No found trailers"))})))})),v.addEventListener("click",(function(){h.style.width="0%"})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(e.preventDefault(),document.body.classList.remove("no-scroll"),h.style.width="0%")}));document.querySelector(".overlay__backdrop").addEventListener("click",(function(e){e.currentTarget===e.target&&(e.preventDefault(),document.body.classList.remove("no-scroll"),h.style.width="0%")}));a=o("lhLDm"),r=o("96LRb"),i=o("2QMTS");const b=new(0,a.default);let k=1;const E={mediaType:"movie",timeWindow:"week"};r.refs.paginationListItemPrev.addEventListener("click",(function(){if(1===k)return;r.refs.gallery.innerHTML="",k-=1,b.actualPage=k,r.refs.paginationListItemPage.innerHTML=k,b.fetchWithAllFilmsData(E).then((e=>(0,i.creatCards)(e.data.results)))})),r.refs.paginationListItemNext.addEventListener("click",(function(){r.refs.gallery.innerHTML="",k+=1,b.actualPage=k,r.refs.paginationListItemPage.innerHTML=k,b.fetchWithAllFilmsData(E).then((e=>(0,i.creatCards)(e.data.results)))})),document.addEventListener("DOMContentLoaded",(()=>{let e=document.querySelector(".btn-goup");console.log("btn on"),window.onscroll=function(){window.pageYOffset>580?e.classList.remove("is-hidden"):e.classList.add("is-hidden")},e.addEventListener("click",(function(){console.log("это я"),window.scrollBy({top:-window.pageYOffset,behavior:"smooth"})}))})),(0,i.onCreat)();
//# sourceMappingURL=index.537aed96.js.map
